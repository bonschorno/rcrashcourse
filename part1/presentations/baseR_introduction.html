<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction to Base R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Johann S. Schuur" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introduction to Base R
### Johann S. Schuur
### 09.09.2020

---




# Some poll results :)

---
# Previous R experience

&lt;img src="baseR_introduction_files/figure-html/unnamed-chunk-1-1.png" width="504" /&gt;

---
# Experience with other languages

&lt;img src="baseR_introduction_files/figure-html/unnamed-chunk-2-1.png" width="504" /&gt;

---
# R Bootcamp expectations
.center[
![an image](figures/expectations.jpeg)
]

---
# Outlook
- 9:00 - 10:00 (warming up)
  + Introduction
  + R in your study program
  + other languages
  + installing R
  + the Integrated Development Environment (IDE)
- 10:00 - 10:15 (Virtual coffee break)
--

- 10:15 - 11:10 (Base R - Part 1)
  + variables and R as calculator
  + data structures (vectors, matrix, lists, indexing)
  + packages and libraries
  + base plotting
- 11:10 - 11:25 (Virtual coffee break)
--

- 11:25 - 12:10 (Base R - Part 2)
  + writing scripts (best practices) 
  + data handling
  + if-else statements
- 12:10 - 12:30 (Virtual coffee break)
  + Time to exercise
---

# The use of R

- Master in Comparative and International Studies (MACIS)

- Master in Science, Technology, and Policy (STP)

---
# The use of R
.pull-left[
- R is considered best for 
  + graphing and visualizations,
  + data analysis and statistical computing
]

.pull-right[
![an image](figures/plotpenguins.png)
]

--
- Python goes beyond data analysis
  + developing and programming
  + web-scraping (STP course: Big data for Public Policy)
--

- both borrow from eachother however :)

https://www.datacamp.com/community/tutorials/r-or-python-for-data-analysis#gs.k=J5=oY

---
# Installing R

If you haven't done already, go to: 
https://courses.edx.org/courses/UTAustinX/UT.7.01x/3T2014/56c5437b88fa43cf828bff5371c6a924/

- you need both!
  + R is the language
  + Rstudio is your IDE ("user interface")

---
# The Integrated Development Environment (IDE)

.center[![an image](iderstudio.png)]

---
# Virtual coffee break (10:00 - 10:15)

Recap
- R in your study program
- other languages
- installing R
- the Integrated Development Environment (IDE)

Questions in break-out sessions

---
# Variables and R as calculator

```r
# assigning variables
a &lt;- 5
b &lt;- 10

# performing a computation and calling the result 
a + b # (Windows: ctrl + enter, Mac: cmd + enter)
```

```
## [1] 15
```
for more keyboard shortcuts, see: 
https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts

---
## Data structures
+ vector

```r
# creating vectors
x &lt;- c(1:9) # c(...), combines arguments into vector or list
```
+ matrix
+ array
+ lists
+ data frames

---
## Data structures

+ vector
+ matrix

```r
# creating matrices
A &lt;- matrix(x, nrow = 3, ncol = 3)

# assigning row, column and matrix names
rownames(A) &lt;- c("penguin1", "penguin2", "penguin3")
colnames(A) &lt;- c("species", "sex", "year")
matrix_names &lt;- c("set1", "set2")
```
+ array
+ lists
+ data frames

---
## Data structures

+ vector
+ matrix
+ array

```r
array1 &lt;- array(c(A,A), dim = c(3,3,2), dimnames = list(rownames(A), 
                colnames(A), matrix_names)) 
                # takes multidimensional data objects 
```
+ lists
+ data frames

---
## Data structures

+ vector
+ matrix
+ array
+ lists

```r
l1 &lt;- list(x, A, "hello", TRUE, FALSE) # elements of different types
```
+ data frames
---
## Data structures

+ vector
+ matrix
+ array
+ lists
+ data frames
  - have column names
  - unique rownames
  - handle numeric, factor, or character data
  - each column contains same number of entries
  
![an image](figures/shortdfpenguins.png)
---
# Indexing


```r
x[5] # accessing fifth element of vector
```

```
## [1] 5
```

```r
A[2,3] # accessing second row, third column of matrix
```

```
## [1] 8
```

```r
A[c(1,2), c(2,3)] # ... 1st and 2nd row of 2nd and 3th column
```

```
##          sex year
## penguin1   4    7
## penguin2   5    8
```

```r
array1[1,,1] # ... 1st row, all columns, 1st matrix
```

```
## species     sex    year 
##       1       4       7
```
for more indexing, see:
https://data-flair.training/blogs/data-structures-in-r/

---
# Packages and libraries

Packages
- R is open source, we benefit from packages made 
  (and updated) by the R community 
- they organize work and typically contain:
  + code
  + specific functions
  + documentation ("README's")
  + data-sets
--

- to work with them they need to be installed (you do this once)

```r
#install.packages("palmerpenguins") # we will need this package later
install.packages(c("palmerpenguins", 
                   "tidyverse", 
                   "ggplot2")) # we will need these packages later
```

---
# Packages and libraries

Library
.pull-left[
- using a package for a new project, we need to load it (you do this every time)

```r
library(palmerpenguins)
```
]

.pull-right[
![an image](figures/lter_penguins.png)
“Artwork by @allison_horst”
]
  + you cannot input a number of libraries at the same time

---
# Base R plotting
- for a quick and simple visualization of your data (today)
- we will mainly use ggplot (tomorrow)


```r
y &lt;- c(1,5,2,7,9,8,10,4,1)
plot(x, y) # plotting y vs x
```

&lt;img src="baseR_introduction_files/figure-html/unnamed-chunk-11-1.png" width="504" style="display: block; margin: auto;" /&gt;

---
# Base R plotting
.center[
![an image](figures/culmen_depth.png)
]
"Artwork by @allison_horst"

---
# Base R plotting

```r
# visualizing our dataset
hist(penguins$bill_length_mm, 
     # hist(x-data, ...)
     main = "Histogram", 
     xlab = "bill length [mm]")
```

&lt;img src="baseR_introduction_files/figure-html/unnamed-chunk-12-1.png" width="360" style="display: block; margin: auto;" /&gt;

---
# Base R plotting


```r
plot(penguins$bill_length_mm, penguins$bill_depth_mm,  
     # plot(x-data, y-data, ...)
     main = "Scatterplot", 
     xlab = "bill length [mm]", ylab = "bill depth [mm]")
```

&lt;img src="baseR_introduction_files/figure-html/unnamed-chunk-13-1.png" width="360" style="display: block; margin: auto;" /&gt;

---
# Base R plotting


```r
boxplot(bill_length_mm ~ species, penguins, 
        # boxplot(y-data ~ x-data, dataframe, ...)
        main = "Boxplot",
        xlab = "bill length [mm]", ylab = "bill depth [mm]")
```

&lt;img src="baseR_introduction_files/figure-html/unnamed-chunk-14-1.png" width="288" style="display: block; margin: auto;" /&gt;
- For more base R plotting, 
see: https://bookdown.org/rdpeng/exdata/the-base-plotting-system-1.html

---
# Virtual coffee break (11:10 - 11:25)

Recap
- variables and R as calculator
- data structures (vectors, matrix, lists, indexing)
- packages and libraries
- base plotting

Questions in break-out sessions

---
# Writing scripts

- Set up
find and set your working directory


```r
getwd() # tells you in which working directory you currently operate
setwd() # lets you set your desired working directory
```

Example:

```r
setwd("~/Desktop/Student representation ISTP/rbootcamp/part1/")
```

- Make a separate folder for each project, that contains
  + data
  + figures
  + ...

Why? 
- keep things tidy
- share your work
- have people replicate your work

---
# Writing scripts (best practices)

- Best practices: Create a "New project"
  + this does all the above for you
  + allows you to work on mutiple projects simultaneously
  + DOESN'T CLUTTER YOUR WORKSPACE :)

for more, see: 
https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects

---
# Writing scripts

- Indenting and commenting
  + comment where necessary, don't go overboard
  + use spaces after each input
  + object names: all lowercase, short, and yet informative
  + use indents to show that something is a part of something
  + ...
--

- Tips and tricks
 + Alt/Option + -	for assignment operator
 + type "?nameoffunction" to access help center
 + use "tab" for autocompletion
 + use arrow-keys to navigate previous commands
 + Cmd/Ctrl + Shift + C to command out (several) lines
 + ...

---
# If-else statements

- Let R perform an action based on if a condition is met or not
- Syntax:
  + if (this is true) {do this}
  + else if (an alternative is true) {then do this}
  + else (when none of the above is true) {then do this}

---
# If-else statements

- Simplest example

```r
x
```

```
## [1] 1 2 3 4 5 6 7 8 9
```

```r
# creating multiple condition statement
if(10 %in% x) {
  print("x is equal to 10")
} else if(20 %in% 10) {
    print("x is equal to 20")
} else if( x &lt; 10 &amp; x &gt;= 0) {
    print("x is a number equal or greater than 0 and smaller than 10")
} else {
    print("the conditions are not med for x")
}
```

```
## [1] "x is a number equal or greater than 0 and smaller than 10"
```
NOTE: "if" only takes ONE logical value

---
# If-else statements
- using "ifelse", we access the entire vector, element-by-element:

```r
x
```

```
## [1] 1 2 3 4 5 6 7 8 9
```

```r
ifelse(x &gt;= 6, "TRUE", "FALSE")
```

```
## [1] "FALSE" "FALSE" "FALSE" "FALSE" "FALSE" "TRUE"  "TRUE"  "TRUE"  "TRUE"
```

---
# Yet, another coffee break? (12:15-12:30)

Recap
- writing scripts
- data handling
- if-else statements

Questions in break-out sessions

---
# Exercises

- set up a project (and check your working directory through the console)
- write name of author and date of latest access
- comment where necessary
- assign a variable (vector and matrix)
- access an index from the vector amd matrix
- plot a histogram from your vector
- plot a boxplot and histogram from the penguin data
  + choose interesting variables to analyse
  + include title and axis-lables
  + say something about what you see
- send the code to your peers for replication

---
# That's all folks!

Any burning questions?
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
