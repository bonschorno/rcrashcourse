---
title: "Introduction to Base R"
author: 
  - "Johann S. Schuur"
date: "09.09.2020"
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE, warning=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(fig.retina = 3, message = FALSE) #rendering sharp plots / not showing messages
setwd("~/Desktop/Student representation ISTP/rbootcamp/part1/")
library(readxl)
library(tidyverse)
library(ggplot2)
library(kableExtra)
library(readxl)
library(wordcloud)
library(tm)
library(RColorBrewer)
library(plotrix)
library(xaringanthemer)
style_mono_light(base_color = "#23395b")

intro_full <- read_excel("Umfrage_intro.xlsx")
intro <- intro_full[-1,]

```

# Variables and R as calculator
```{r, message=FALSE, fig.align='center', fig.height=3, fig.width=3}
# assigning variables
a <- 5
b <- 10

# performing a computation and calling the result 
a + b # (Windows: ctrl + enter, Mac: cmd + enter)
```

---
## Data structures
+ vector
```{r, message=FALSE, fig.align='center', fig.height=3, fig.width=3}
# creating vectors
x <- c(1:9) # c(...), combines arguments into vector or list
```
+ matrix
+ array
+ lists
+ data frames

---
## Data structures

+ vector
+ matrix
```{r, message=FALSE, fig.align='center', fig.height=3, fig.width=3}
# creating matrices
A <- matrix(x, nrow = 3, ncol = 3)

# assigning row, column and matrix names
rownames(A) <- c("penguin1", "penguin2", "penguin3")
colnames(A) <- c("species", "sex", "year")
matrix_names <- c("set1", "set2")
```
+ array
+ lists
+ data frames

---
## Data structures

+ vector
+ matrix
+ array
```{r, message=FALSE}
array1 <- array(c(A,A), dim = c(3,3,2), dimnames = list(rownames(A), 
                colnames(A), matrix_names)) 
                # takes multidimensional data objects 
```
+ lists
+ data frames

---
## Data structures

+ vector
+ matrix
+ array
+ lists
```{r, message=FALSE}
l1 <- list(x, A, "hello", TRUE, FALSE) # elements of different types
```
+ data frames
---
## Data structures

+ vector
+ matrix
+ array
+ lists
+ data frames
  - have column names
  - unique rownames
  - handle numeric, factor, or character data
  - each column contains same number of entries

---
# Indexing

```{r, message=FALSE, fig.align='center', fig.height=3, fig.width=3}
x[5] # accessing fifth element of vector

A[2,3] # accessing second row, third column of matrix

A[c(1,2), c(2,3)] # ... 1st and 2nd row of 2nd and 3th column

array1[1,,1] # ... 1st row, all columns, 1st matrix
```
---
# Packages and libraries

```{r, message=FALSE, fig.align='center', fig.height=3, fig.width=3, eval=FALSE}
install.packages(c("palmerpenguins", 
                   "tidyverse", 
                   "ggplot2")) # we will need these packages later
```

library(palmerpenguins)
---
# Base R plotting


```{r, message=FALSE, fig.align='center', fig.height=5}
y <- c(1,5,2,7,9,8,10,4,1)
plot(x, y) # plotting y vs x
```

---
# Base R plotting
```{r, message=FALSE, fig.align='center', fig.height=5, fig.width=5}
# visualizing our dataset

hist(penguins$bill_length_mm, 
     # hist(x-data, ...)
     main = "Histogram", 
     xlab = "bill length [mm]")
```

---
# Base R plotting

```{r, message=FALSE, fig.align='center', fig.height=5, fig.width=5}
plot(penguins$bill_length_mm, penguins$bill_depth_mm,  
     # plot(x-data, y-data, ...)
     main = "Scatterplot", 
     xlab = "bill length [mm]", ylab = "bill depth [mm]")
```

---
# Base R plotting

```{r, message=FALSE, fig.align='center', fig.height=4, fig.width=4}
boxplot(bill_length_mm ~ species, penguins, 
        # boxplot(y-data ~ x-data, dataframe, ...)
        main = "Boxplot",
        xlab = "bill length [mm]", ylab = "bill depth [mm]")
```

# Writing scripts

```{r, message=FALSE, fig.align='center', fig.height=3, fig.width=3, eval=FALSE}
getwd() # tells you in which working directory you currently operate
setwd() # lets you set your desired working directory
```

Example:
```{r, message=FALSE, fig.align='center', fig.height=3, fig.width=3, eval=FALSE}
setwd("~/Desktop/Student representation ISTP/rbootcamp/part1/")
```

# If-else statements

- Simplest example
```{r warning = FALSE, message=FALSE, fig.align='center', fig.height=3, fig.width=3}
x
# creating multiple condition statement
if(10 %in% x) {
  print("x is equal to 10")
} else if(20 %in% 10) {
    print("x is equal to 20")
} else if( x < 10 & x >= 0) {
    print("x is a number equal or greater than 0 and smaller than 10")
} else {
    print("the conditions are not med for x")
}
```

---
# If-else statements
```{r warning = FALSE, message=FALSE, fig.align='center', fig.height=3, fig.width=3}
x

ifelse(x >= 6, "TRUE", "FALSE")
```

---
# Exercises

- set up a project (and check your working directory through the console)
- write name of author and date of latest access
- comment where necessary
- assign a variable (vector and matrix)
- access an index from the vector amd matrix
- plot a histogram from your vector
- plot a boxplot and histogram from the penguin data
  + choose interesting variables to analyse
  + include title and axis-lables
  + say something about what you see
- send the code to your peers for replication

